<ion-modal
  #modal
  [initialBreakpoint]="1"
  [breakpoints]="[0, 1]"
  (ionModalDidDismiss)="resultDate = undefined"
>
  <ng-template>
    @if (resultDate) {
      <div class="header">
        <h3> {{ resultDate.date | date : 'MMMM d, yyyy' }} </h3>
        <ion-chip [color]="getColorByType(resultDate.type)" class="ion-activated">
          <ion-icon [name]="getIconByType(resultDate.type)"></ion-icon>
          <ion-label>
            {{ resultDate.start ? (resultDate.start | date : 'HH:mm') : '00:00' }} - 
            {{ resultDate.end ? (resultDate.end | date : 'HH:mm') : '23:59' }}
          </ion-label>
        </ion-chip>
      </div>
      <app-users-list
        [users]="resultDate.users"
        (searchFocused)="modal.backdropDismiss = !$event"
      >
        <ng-template #end let-user>
          <ion-icon
            [color]="getColorByType(user.type)"
            [icon]="getIconByType(user.type)"
          ></ion-icon>
        </ng-template>
      </app-users-list>
    }
  </ng-template>
</ion-modal>
