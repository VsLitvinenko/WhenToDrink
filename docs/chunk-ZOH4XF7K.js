import{b as ee,c as te,d as D,f as z}from"./chunk-NXZ22747.js";import{a as k,b as _,c as Y,d as Z}from"./chunk-4VQLRIEZ.js";import{$a as j,A as i,D as E,Db as X,Ea as B,Fb as S,H as y,La as w,Pa as C,Q as d,Qa as G,R as n,Ra as T,S as a,Sa as N,T as p,Ta as h,Va as W,Wa as H,Y as f,Ya as $,Z as F,e as g,fb as b,ha as c,ia as u,ib as q,jb as A,lb as V,mb as R,na as P,nb as J,pa as r,q as v,qa as l,va as L,xb as K,yb as Q,zb as U}from"./chunk-U5POCIXJ.js";import"./chunk-Q6FFIHTR.js";import"./chunk-7KGURMOZ.js";import"./chunk-NKG53MNX.js";import"./chunk-62TPDNO2.js";import"./chunk-7PWDY3UP.js";import"./chunk-JRYKI6H5.js";import"./chunk-GIIU5PV3.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-SPMQWSIB.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-2R6CW7ES.js";var O={Name:{en:"Event name",ru:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},Starts:{en:"Starts",ru:"\u041D\u0430\u0447\u0430\u043B\u043E"},Ends:{en:"Ends",ru:"\u041A\u043E\u043D\u0435\u0446"},Description:{en:"Description",ru:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},NamePlaceholder:{en:"Enter name",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},DescriptionPlaceholder:{en:"Enter description",ru:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"},SaveChanges:{en:"Save changes",ru:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"},HasBeenSaved:{en:"All changes have been saved successfully",ru:"\u0412\u0441\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B"}};var ie=()=>[0,1];function le(o,t){if(o&1&&(p(0,"ion-datetime",8),r(1,"async")),o&2){let M=F();d("firstDayOfWeek",1)("locale",l(1,2,M.localizeFormat$))}}function me(o,t){if(o&1&&(p(0,"ion-datetime",9),r(1,"async")),o&2){let M=F();d("firstDayOfWeek",1)("locale",l(1,2,M.localizeFormat$))}}var ne=(()=>{let t=class t{constructor(){this.startOfMonth=D(te(new Date),"yyyy-MM-dd"),this.endOfMonth=D(ee(new Date),"yyyy-MM-dd"),this.eventFormGroup=new N({name:new h(null,C.required),starts:new h(this.startOfMonth,C.required),ends:new h(this.endOfMonth,C.required),description:new h(null)}),this.startDate=z(this.eventFormGroup.controls.starts.valueChanges,{initialValue:this.startOfMonth}),this.endDate=z(this.eventFormGroup.controls.ends.valueChanges,{initialValue:this.endOfMonth}),this.isDatesInvalid=L(()=>{let s=new Date(this.startDate()),m=new Date(this.endDate());return s>=m}),this.localizeService=v(k),this.localizeFormat$=this.localizeService.localizationWithFormat$,this.EditEventFormLocalize=O,this.toast=v(S)}saveChanges(){console.log("save changes",this.eventFormGroup.value),this.localizeService.localize(O.HasBeenSaved).pipe(g(1)).subscribe(s=>this.toast.info(s,"cloud-done-outline"))}};t.\u0275fac=function(m){return new(m||t)},t.\u0275cmp=E({type:t,selectors:[["app-edit-event-form"]],decls:30,vars:32,consts:[["mode","ios",3,"formGroup"],["color","dark","slot","end","formControlName","name",3,"placeholder"],["datetime","datetimeStart"],[1,"event-datetime-modal",3,"keepContentsMounted","initialBreakpoint","breakpoints"],["datetime","datetimeEnd"],["lines","none",1,"notes-item"],["color","dark","slot","end","formControlName","description",3,"autoGrow","placeholder"],["mode","ios","expand","block",1,"save-changes-button",3,"click","disabled"],["id","datetimeStart","formControlName","starts","presentation","date","mode","ios",3,"firstDayOfWeek","locale"],["id","datetimeEnd","formControlName","ends","presentation","date","mode","ios",3,"firstDayOfWeek","locale"]],template:function(m,e){m&1&&(n(0,"ion-list",0)(1,"ion-item")(2,"ion-label"),c(3),r(4,"localize"),a(),p(5,"ion-input",1),r(6,"localize"),a(),n(7,"ion-item")(8,"ion-label"),c(9),r(10,"localize"),a(),p(11,"ion-datetime-button",2),n(12,"ion-modal",3),y(13,le,2,4,"ng-template"),a()(),n(14,"ion-item")(15,"ion-label"),c(16),r(17,"localize"),a(),p(18,"ion-datetime-button",4),n(19,"ion-modal",3),y(20,me,2,4,"ng-template"),a()(),n(21,"ion-item",5)(22,"ion-label"),c(23),r(24,"localize"),a(),p(25,"ion-textarea",6),r(26,"localize"),a()(),n(27,"ion-button",7),f("click",function(){return e.saveChanges()}),c(28),r(29,"localize"),a()),m&2&&(d("formGroup",e.eventFormGroup),i(3),u(" ",l(4,16,e.EditEventFormLocalize.Name)," "),i(2),d("placeholder",l(6,18,e.EditEventFormLocalize.NamePlaceholder)),i(4),u(" ",l(10,20,e.EditEventFormLocalize.Starts)," "),i(3),d("keepContentsMounted",!0)("initialBreakpoint",1)("breakpoints",P(30,ie)),i(4),u(" ",l(17,22,e.EditEventFormLocalize.Ends)," "),i(3),d("keepContentsMounted",!0)("initialBreakpoint",1)("breakpoints",P(31,ie)),i(4),u(" ",l(24,24,e.EditEventFormLocalize.Description)," "),i(2),d("autoGrow",!0)("placeholder",l(26,26,e.EditEventFormLocalize.DescriptionPlaceholder)),i(2),d("disabled",e.eventFormGroup.invalid||e.isDatesInvalid()),i(),u(" ",l(29,28,e.EditEventFormLocalize.SaveChanges),`
`))},dependencies:[Z,R,b,J,V,B,_,U,j,K,A,X,$,G,T,W,H],styles:["ion-list[_ngcontent-%COMP%]{background:transparent}ion-item[_ngcontent-%COMP%]{--background: transparent}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:1.25rem .5rem 1.25rem 0}ion-textarea[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{text-align:end;margin-right:.25rem;width:60%!important}.notes-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:auto}.notes-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{margin-top:.6rem}.save-changes-button[_ngcontent-%COMP%]{margin:.5rem 1rem}  .event-datetime-modal .ion-delegate-host{padding:.75rem .25rem 2.5rem!important;background-color:var(--ion-color-light, #f4f5f8)!important}"]});let o=t;return o})();var I={Link:{en:"Link",ru:"\u0421\u0441\u044B\u043B\u043A\u0430"},GoTo:{en:"Go to",ru:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438"},ClipboardLink:{en:"Link to created event was copied to clipboard",ru:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u043D\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430"}};var Te=(()=>{let t=class t{constructor(){this.router=v(w),this.toast=v(S),this.localizeService=v(k),this.EditEventPageLocalize=I}copyToClipboard(){this.localizeService.localize(I.ClipboardLink).pipe(g(1)).subscribe(s=>this.toast.light(s,"clipboard-outline"))}redirectToEvent(){this.router.navigate(["vote"])}};t.\u0275fac=function(m){return new(m||t)},t.\u0275cmp=E({type:t,selectors:[["app-edit-event-page"]],hostAttrs:[1,"app-page-inner"],decls:13,vars:6,consts:[[1,"ion-padding"],[1,"done-actions"],["mode","ios","size","small","color","light",3,"click"],["name","link-outline","slot","start"],["name","arrow-redo-outline","slot","end"]],template:function(m,e){m&1&&(n(0,"ion-content",0),p(1,"app-edit-event-form"),n(2,"div",1)(3,"ion-button",2),f("click",function(){return e.copyToClipboard()}),p(4,"ion-icon",3),n(5,"span"),c(6),r(7,"localize"),a()(),n(8,"ion-button",2),f("click",function(){return e.redirectToEvent()}),p(9,"ion-icon",4),n(10,"span"),c(11),r(12,"localize"),a()()()()),m&2&&(i(6),u(" ",l(7,2,e.EditEventPageLocalize.Link)," "),i(5),u(" ",l(12,4,e.EditEventPageLocalize.GoTo)," "))},dependencies:[Y,q,Q,_,ne,b],styles:[".done-actions[_ngcontent-%COMP%]{margin:.5rem 1rem;display:flex;justify-content:space-between;gap:.5rem}.done-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-grow:1;--padding-top: .6rem;--padding-bottom: .6rem;--border-radius: .75rem}"]});let o=t;return o})();export{Te as EditEventPageComponent};
